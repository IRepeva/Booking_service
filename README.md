# Сервис для бронирования билетов и организации мероприятий

## Описание

Не всем нравится сидеть дома и смотреть фильмы в одиночку: иногда хочется их посмотреть с компанией единомышленников.
<br>Для такой возможности реализована сервис организации мероприятий по просмотру фильма и участия в них. Сервис, кроме 
оранизации сеансов в кинотеатре, позволяет организовать просмотр фильма вне кинотеатра с друзьями или людьми, 
разделяющими твои инетересы, а также принимать в них участие.


### Функциональные возможности сервиса (API)
- Организация мероприятия с выбором 
  - места
  - времени
  - фильма
- Обновление данных о мероприятии
- Отмена мероприятия
- Поиск имеющихся мероприятий
- Бронирование билетов на созданные мероприятия
- Отмена бронирования
- Добавление места для мероприятия с возможностью указания конфигурации зала
- Изменение конфигурации зала
- Удаление места просмотра для запрета организации мероприятий в нем


#### Описание архитектуры проекта находится в директории docs/architecture

## Запуск проекта
В корне проекта создайте файл .env, опираясь на пример [.env.example](.env.example)



Для запуска проекта воспользуйтесь командой 

```bash
make start-local
```

Перед началом использования не забудьте обновить схему БД до актуального состояния

```bash
make migration-upgrade
```

### Документацию API можно найти в [здесь](localhost:80/api/openapi)
<br>Для успешной аутентификации перeдайте jwt токен, сгенерированный на основе ключа, который вы указали в .env 
```bash
import jwt
import os
jwt.encode({"user_id": "115"}, os.environ.get('JWT_SECRET'), algorithm="HS256")
```

### Имеющиеся make-команды
- start: запуск сервера и обновление схемы бд 
- stop: остановка сервиса
- start-service: запуск сервиса
- migration-upgrade: обновление схемы бд
- migration-downgrade: откат миграции

## Разработчикам
Инструкцию для начала разработки можно найти [здесь](docs%2Fdevelopment.md) 
